div.navbar.navbar-default.navbar-static-top(ng-controller='NavbarCtrl')
  div.container
    div.navbar-header
      button.navbar-toggle(type='button', ng-click='isCollapsed = !isCollapsed')
        span.sr-only Toggle navigation
        span.icon-bar
        span.icon-bar
        span.icon-bar
      a.navbar-brand(href='/')
        img(src='/assets/images/logo.png')

    div#navbar-main.navbar-collapse.collapse(collapse='isCollapsed')
      ul.nav.navbar-nav
        li(ng-repeat='item in menu', ng-class='{active: isActive(item.link)}')
          a(ng-href='{{item.link}}') {{item.title}}

        li(ng-show='isLoggedIn()', ng-class='{active: isActive("/projects")}')
          a(ng-href='/projects') Projects

      ul.nav.navbar-nav.navbar-right
        li(ng-hide='isLoggedIn()', ng-class='{active: isActive("/signup")}')
          a(href='/signup') Sign up

        li(ng-hide='isLoggedIn()', ng-class='{active: isActive("/login")}')
          a(href='/login') Login

        li(ng-show='isLoggedIn()')
          p.navbar-text 
            span Welcome, {{ getCurrentUser().name }} 
            span.text-muted(ng-show='isAdmin()') [admin]

        li(ng-show='isLoggedIn()', ng-class='{active: isActive("/addproject")}', tooltip-placement="bottom", tooltip="New project")
          a(ng-href='/addproject')
            span.glyphicon.glyphicon-plus.text-warning

        li(ng-show='isAdmin()', ng-class='{active: isActive("/admin")}', tooltip-placement="bottom", tooltip="Admin Control Panel")
          a(href='/admin')
            span.glyphicon.glyphicon-lock

        li(ng-show='isLoggedIn()', ng-class='{active: isActive("/settings")}', tooltip-placement="bottom", tooltip="Settings")
          a(href='/settings')
            span.glyphicon.glyphicon-cog

        li(ng-show='isLoggedIn()', ng-class='{active: isActive("/logout")}', tooltip-placement="bottom", tooltip="Sign out")
          a(href='', ng-click='logout()')
            span.glyphicon.glyphicon-log-out
